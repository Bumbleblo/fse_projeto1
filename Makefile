TARGET=projeto1
#CC     = gcc -c
CFLAGS = -Wall

#LINKER = gcc -o
LFLAGS = -Wall

SOURCES = $(wildcard *.c)
INCLUDES = $(wildcard *.h)
OBJECTS = $(wildcard: .c=.o)
MAKE=make

CC=/pitools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-gcc

all:  main temperatura modbus
	$(CC) -o $(TARGET) main.o bme280/bin/bme280.o bme280/bin/linux_userspace.o modbus/bin/crc16.o modbus/bin/modbus.o PID/bin/pid.o -Imodbus/include -IPID/include -lwiringPi -lrt -lcrypt -lm -DDEBUG

main:
	$(CC) -c main.c -Ibme280/include -Imodbus/include -IPID/include -DDEBUG -o main.o -lwiringPi


temperatura:
	cd bme280 && $(MAKE)

modbus:
	cd modbus && $(MAKE)

pid:
	cd PID && $(MAKE)

clean:
	rm -rf bme280/bin modbus/bin PID/bin
	rm *.o
